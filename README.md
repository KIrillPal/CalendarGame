# CalendarGame
Это проект календаря с заметками. Особый упор в нём делался на дизайн. Проект использует SFML 2.5.1. и написан на C++ в Visual Studio.
# Подключение и использование
Чтобы запустить приложение, скачайте архив [Release.zip](https://github.com/KIrillPal/CalendarGame/blob/main/Release.zip) из корня проекта и запустить в нём файл CalendarGame.exe. 
Откроется окно:
![all_window](https://github.com/KIrillPal/CalendarGame/blob/main/README_Images/all_window.jpg)

Разобраться во всех его инструментах можно интуитивно, но ниже приведены некоторые пояснения. 
# Элементы интерфейса
Визуально окно можно разделить на несколько частей:
## 1. Выбор года.
![year_bar](https://github.com/KIrillPal/CalendarGame/blob/main/README_Images/year_bar.jpg)

Год выбирается кнопкми и текстовым полем с номером года. Также имеется кнопка "B.C", при нажатии которой выбирается год с тем же номером до нашей эры.
После выбора другого года поле с днями месяца загружается на выбранный год. Также и выделенной датой (которая не может быть пустой) становится 1 января.
## 2. Информация о дате.
![year_bc](https://github.com/KIrillPal/CalendarGame/blob/main/README_Images/year_bc.jpg)

Кроме даты в информации содержится день недели, краткая запись, информация о високосности года. Максимальный год, который может отражаться на этом табло - `99999999`.
## 3. Информация о праздниках
![holi](https://github.com/KIrillPal/CalendarGame/blob/main/README_Images/holi.jpg)

Для некоторых дней отображены праздники. Они могут быть назначены как на одну дату в истории, 
так и на один день и месяц во все года. В отличии от заметок, праздники назначаются разработчиком. Код описания праздников расположен в главном файле `CalendarGame.cpp` 
в функции `prepareHolidays` в формате `holiHeap.push_back(NoteInf("<name>", owt.dateHash(<year>, <month>, <day>, 0, 0), <icon_type>));`.
Кроме того, у каждого праздника есть своя иконка. В данном проекте есть 3 типа иконок: государственные, религиозные и профессиональные праздники. Они имеют номера 1,2,3.
## 4. Заметки
![notes](https://github.com/KIrillPal/CalendarGame/blob/main/README_Images/notes.jpg)

На каждую дату можно записать заметки. Они складываются в список, который прокручивается ЛКМ и колёсиком мыши. Так выглядит окно создания заметки. 

![create](https://github.com/KIrillPal/CalendarGame/blob/main/README_Images/create.jpg)

Внутри карточки заметки отображается сообщение заметки и время записи. Увы, минуты могут не иметь ведущих нулей. 
Если сообщение заметки не помещается полностью, то появяется кнопка для раскрытия полного текста сообщения. Вот пример:

![open](https://github.com/KIrillPal/CalendarGame/blob/main/README_Images/open.jpg)

С помощью кнопок на карточке заметки её можно удалить либо скопировать на любую дату и время. 
Кстати, количество записанных на 1 день заметок отображается синим кружком на ячейке выбранной даты.

!!ВАЖНО: Изначально поле ввода текста пустое. Чтобы на нём появился курсор, необходимо нажать не на любое место на поле, а в левый верхний угол, как показано на рисунке ниже. 
![empty](https://github.com/KIrillPal/CalendarGame/blob/main/README_Images/empty.jpg)

Это связано с тем, что у самописного класса TextBox фокус получается при нажатии именно на текст, а у пустого поля его нет. 
Также, чтобы кнопка "OK" стала активна, после ввода текста необходимо снять фокус, кликнув в любую точку программы.
## 5. Флажки
Над списком с заметками расположены 5 цветных кнопок. Они отвечают за 4 цвета флажков, которые можно назначить выбранной дате. 
Флажки нужны для красноречивого выделения дня среди остальных. Он будет особо заметен при прокрутке и может служить напоминанием.
Самая левая кнопка нужна для снятия флажка.
## 6. Календарь
![main](https://github.com/KIrillPal/CalendarGame/blob/main/README_Images/main.jpg)

Наконец, сама таблица с датами. Каждая дата - отдельная кнопка. Нажав на неё, можно выбрать соответсвующую ей дату. 
Таблица загружается только на 1 выбранный год и ограничена слева и справа. На дате могут отображаться флажки и количество заметок, 
обозначенных синим кружком с цифрой или без. Вот пример даты с 1 заметкой и красным флажком.

![microdate](https://github.com/KIrillPal/CalendarGame/blob/main/README_Images/microdate.jpg)


Сверху над датами расположена навигационная панель. Она нужна для переключения между месяцами, хотя это можно делать прокручиванием основного 
окна календаря с помощью кнопок мыши и колесика.
# Структура проекта
Здесь описано, какие файлы содержатся в проекте и их предназначение в общих чертах.

## 1. CalendarGame.cpp
Это главный файл, содержащий функцию `main`. Он отвечает за любые действия с окном и его отрисовку.

- В нём подгружаются все шрифты и картинки. Также в нём содержатся все кнопки/текстовые поля/контейнеры прокрутки.
- В нём прописаны все анимации и реакции разных визульных элементов на события. Причём в функции `main`.

## 2. ScrollWindow.cpp и ScrollWindow.h
Это собственная реализация класса контейнера прокрутки. Он содержит все операции, необходимые полноценному элементу управления. 
Этот класс также используется во множестве других проектов.
## 3. TextBox.cpp и TextBox.h
Это собственная реализация класса TextBox. Он содержит все операции, необходимые полноценному элементу управления. 
В будущем будет улучшен и будет использоваться во множестве других проектов.
## 3. PxButton.cpp и PxButton.h
Это собственная реализация класса кнопки. Он содержит все операции, необходимые полноценному элементу управления. 
Разработчику доступны широкие возможности для кастомизации. Используется во множестве других проектов.
## 4. Note.cpp и Note.h
Класс карточки заметки. Состоит из описанных выше элементов и отрабатывет действия, связанные с закрытием/раскрытием.
## 5. Noteinf.cpp и Noteinf.h
Вспомогательный класс, содержащий всю информацию об одной заметке. Также его можно сортировать.
## 6. ownUtilities.cpp и ownUtilities.h
Вспомогательный класс, содержащий многие константы и полезные функции, которые не имеет смысла копировать.
# Замечания
 Главный недостаток проекта в плохой автоматизации работы элементов движка. Добавляя новый элемент, приодится менять код в нескольких местах сразу. 
 На этом проекте были отработаны первые шаги по созданию собственного графического движка на SFML. Также нет сохранения заметок в файл, изменеия праздников и поддержки русского языка.
# Особенности проекта
Этот проект, как и многие, был дан мне в качестве зачётной работы. Результат сильно выбился из требований и показал больше возможностей и фишек программы.